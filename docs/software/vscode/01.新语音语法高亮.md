# 新语音语法高亮

## 介绍

针对 TC Games 宏文件，使其语法高亮

语言名称： tgs (TC Games Scripts)

该扩展项目的名称： tgs

## 依赖

```shell
node -v
# v16.13.2


# 指定镜像源
npm install -g yo generator-code --registry=https://repo.huaweicloud.com/repository/npm/
```

## 创建项目

```text
W:\dev\vscode\extensions>yo code

     _-----_     ╭──────────────────────────╮
    |       |    │   Welcome to the Visual  │
    |--(o)--|    │   Studio Code Extension  │
   `---------´   │        generator!        │
    ( _´U`_ )    ╰──────────────────────────╯
    /___A___\   /
     |  ~  |
   __'.___.'__
 ´   `  |° ´ Y `

? What type of extension do you want to create? New Language Support
Enter the URL (http, https) or the file path of the tmLanguage grammar or press ENTER to start with a new grammar.
? URL or file to import, or none for new: 
? What's the name of your extension? tgs    
? What's the identifier of your extension? tgs
? What's the description of your extension? tc-games-scripts                                                                    
Enter the id of the language. The id is an identifier and is single, lower-case name such as 'php', 'javascript'
? Language id: tgs                                                            
Enter the name of the language. The name will be shown in the VS Code editor mode selector.
? Language name: tgs                                                                   
Enter the file extensions of the language. Use commas to separate multiple entries (e.g. .ruby, .rb)
? File extensions: tgs                                     
Enter the root scope name of the grammar (e.g. source.ruby)
? Scope names: source.tgs
? Initialize a git repository? Yes
```

## 调试

按 F5 即可

## 应用

将项目拷贝到 `%USERPROFILE%/.vscode/extensions`(或`~/.vscode/extensions`)

## 功能

${root}/syntaxes/tgs.tmLanguage.json:

```json
{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "tgs",
    "patterns": [
    {
      "include": "#keywords"
    },
    {
      "include": "#comment"
    }
  ],
    "repository": {
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.tgs",
          "match": "\\b(托管鼠标左键|按住|获取准心动态参数|变量|如果|否则|提示)\\b"
        },
        {
          "name": "constant.language.boolean.tgs",
          "match": "\\b(true|false)\\b"
        }
      ]
    },

    "comment": {
      "begin": "//",
        "end": "\\n",
        "name": "comment.line.double-slash"
    }
  },
  "scopeName": "source.tgs"
}
```

## 参考

* [从零开始为你的自制编程语言写一个专属VSCode插件](https://zhuanlan.zhihu.com/p/164736736)
* [想让VSCode识别自己的编程语言？立马安排](https://blog.csdn.net/weixin_44151650/article/details/121321503)
