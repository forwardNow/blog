# Web 代码编辑器

## monaco-editor

### 安装

依赖：

```shell
npm i monaco-editor

npm i -D monaco-editor-webpack-plugin
```

webpack.base.conf.js：

```javascript
const MonacoWebpackPlugin = require('monaco-editor-webpack-plugin');
module.exports = {
  // ...
  plugins: [
    // ...
    new MonacoWebpackPlugin(),
  ],
};
```

### 创建

```javascript
import * as monaco from 'monaco-editor/esm/vs/editor/editor.api';

const editor = monaco.editor.create(this.$el, {
  value: 'const num = 1;',
  language: 'javascript',
});

// 获取编辑器里的内容
editor.getValue();

// 查看支持的语言
const languages = monaco.languages.getLanguages().map((lang) => lang.id);
```

### 监听内容改变

```javascript
editor.onDidChangeModelContent(() => {
  const currentContent = editor.getValue();
});
```

### 添加命令

```javascript
// Ctrl + S , 添加后，浏览器的默认行为将被禁用
editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS, () => {
  //
});
```


## 参考

* [https://github.com/microsoft/monaco-editor](https://github.com/microsoft/monaco-editor)
* [vue下使用Monaco Editor](https://www.jianshu.com/p/528e63705073)