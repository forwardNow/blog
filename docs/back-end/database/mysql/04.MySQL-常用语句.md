<!--#region
@author 吴钦飞
@email wuqinfei@qq.com
@create date 2026-02-05 11:14:29
@modify date 2026-02-05 17:32:29
@desc [description]
#endregion-->


# MySQL-常用语句

## 递归查询 - WITH RECURSIVE

参考:

* [MYSQL的（WITH RECURSIVE）递归查询](https://blog.csdn.net/weixin_49114503/article/details/149348660)

## 函数和存储过程

```sql
DROP FUNCTION IF EXISTS `GetSecurityV`;

DELIMITER ;;
CREATE FUNCTION `GetSecurityV`(`pObjectId` bigint,`pUserId` bigint)
    RETURNS bigint
    
    -- 指定函数特性‌，指明使用SQL语句的限制
    --    CONTAINS SQL: 表明子程序包含SQL语句，但是不包含读写数据的语句；
    --    NO SQL: 表明子程序不包含SQL语句；
    --    READS SQL DATA: 说明子程序包含读数据的语句；
    --    MODIFIES SQL DATA: 表明子程序包含写数据的语句。
    READS SQL DATA
    
    -- SQL SECURITY { DEFINER | INVOKER } 
    -- 指明谁有权限来执行。
    --    DEFINER 表示只有定义者才能执行【默认值】
    --    INVOKER 表示拥有权限的调用者可以执行
    SQL SECURITY INVOKER
BEGIN

  -- ...

END ;;
DELIMITER ;
```