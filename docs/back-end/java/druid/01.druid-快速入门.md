<!--#region
@author 吴钦飞
@email wuqinfei@qq.com
@create date 2025-10-22 08:16:36
@modify date 2025-10-22 09:04:17
@desc [description]
#endregion-->

# druid - 快速入门

## 1. 连接池简介

连接池：

* 不常用: c3p0 / dbcp / tomca－jdbc
* 主流: hikariCP / druid

druid：

* 德鲁伊 / 德鲁的

## 2. 配置方式

### 2.1. 通用方式

引入依赖:

```xml

```

连接池配置:

```yml
# 初始化时建立的物理连接的个数
initialSize: 5 

# 连接池包含连接的最大数量
maxActive: 20 

# 获取连接时，(暂时没有连接可用时)最大等待时间（ms）
maxWait: 60000 

# 连接池至少存在的连接数
minIdle: 1

# 申请连接时，是否执行 validationQuery 检查连接的有效性，影响性能
testOnBorrow: false

# 归还连接时，是否执行 validationQuery 检查连接的有效性，影响性能
testOnReturn: false

# mysql: show variables like '%timeout%'
# 当 连接长时间（默认 8h）不使用时，数据库会主动关闭连接

# 连接保持空闲而不被销毁的最小时间
# 单位 ms，默认 30 min
minEvictableIdleTimeMillis: 1800000

# 连接保持空闲而不被销毁的最大时间
# 单位 ms，默认 7 h
maxEvictableIdleTimeMillis: 25200000

# 销毁线程是另一个线程，该配置决定销毁线程运行周期
# 单位 ms，默认 1 min
timeBetweenEvictionRunsMillis: 60000

# 申请连接时，如果 空闲时间 > timeBetweenEvictionRunsMillis，则执行 validationQuery 检查连接是否有效
# 类似 testOnBorrow，但对性能的影响想对较小
testWhileIdle: true

# 通过执行指定 sql 检测连接是否有效
validationQuery: select 1
```

### 2.2. starter 方式

