# MySQL

## 1. 安装

### 1.1. 下载

https://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.41-winx64.zip

解压到 `D:\soft\mysql-5.6.41-winx64`

### 1.2. 环境变量

搜索：系统环境变量

在系统环境变量 `path` ，添加：

```text
D:\soft\mysql-5.6.41-winx64\bin
```

### 1.3. 修改 `my-default.ini` 文件

```ini
[mysqld]
character-set-server=utf8
innodb_buffer_pool_size = 128M

log_bin

basedir = D:\soft\mysql-5.6.41-winx64
datadir = D:\soft\mysql-5.6.41-winx64\data

join_buffer_size = 128M
sort_buffer_size = 2M
read_rnd_buffer_size = 2M 

sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 

[client]
default-character-set=utf8
```

### 1.4. 安装服务

管理员权限打开 cmd：

```shell
cd /D D:\soft\mysql-5.6.41-winx64\bin

# 安装服务
mysqld -install

# 删除服务
# mysqld -remove

# 启动
net start mysql

# 停止
net stop mysql 
```

### 1.5. 设置密码

```shell
mysqladmin -u root -p password

# 直接回车，安装后是没有密码的
Enter password:

# 输入新的密码
New password: ******
Confirm new password: ******
```

### 1.6. 登录

```shell
mysql -u root -p
```

## 2. Navicat Premium

### 2.1. v16.0.11

破解脚本：

```shell
@echo off

echo Delete HKEY_CURRENT_USER\Software\PremiumSoft\NavicatPremium\Registration[version and language]
for /f %%i in ('"REG QUERY "HKEY_CURRENT_USER\Software\PremiumSoft\NavicatPremium" /s | findstr /L Registration"') do (
    reg delete %%i /va /f
)
echo.

echo Delete Info folder under HKEY_CURRENT_USER\Software\Classes\CLSID
for /f %%i in ('"REG QUERY "HKEY_CURRENT_USER\Software\Classes\CLSID" /s | findstr /E Info"') do (
    reg delete %%i /va /f
)
echo.

echo Finish

pause
```

参考： 

* [Navicat Premium 16.0.10 破解安装](https://cloud.tencent.com/developer/article/1953103)


## 3. 数据库操作

### 3.1. 获取所有表的表名

```sql
select
    table_name
from
    information_schema.tables
where
    table_schema='${databaseName}'
```

### 3.2. 获取表字段的信息

```sql
select
    column_name,
    is_nullable,
    column_key,
    data_type,
    column_comment
from
    information_schema.columns t
where
    table_schema='${databaseName}' and table_name='${tableName}'
```