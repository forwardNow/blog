# 高级

[[toc]]

优化 webpack:

1. 提升开发体验
2. 提升打包构建速度
3. 减少代码体积
4. 优化代码运行性能

## 1. SourceMap

介绍：

* 浏览器运行的是 webpack 编译后的代码，很难看懂
* 一旦出错，报错位置 是 编译后的文件的出错代码位置，定位到源码位置比较困难
* SourceMap 就是编译后的代码与源代码的映射，运行的代码一旦出错，就可以定位到源代码错误位置的行和列

配置：

```javascript
module.exports = {
  mode: 'development',
  /*
    优点：打包编译速度快，只包含行映射
    缺点：没有列映射
   */
  devtool: 'cheap-module-source-map',
  // ...
};

module.exports = {
  mode: 'production',
  /*
    优点：包含行/列映射
    缺点：打包编译速度更慢
   */
  devtool: 'source-map',
  // ...
};
```

参考：[devtool](https://webpack.js.org/configuration/devtool/)