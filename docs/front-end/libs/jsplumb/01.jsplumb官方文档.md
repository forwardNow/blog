# jsPlumb 官方文档

> 6.x 版本

## 1. 概览

### 1.1. 介绍

jsPlumb 社区版

文档： [https://docs.jsplumbtoolkit.com/community/6.x/](https://docs.jsplumbtoolkit.com/community/6.x/)

在 web 上，使用 SVG 连接（HTML）元素

兼容性：IE11+

无外部依赖

### 1.2. 安装

```shell
npm install @jsplumb/browser-ui

## "@jsplumb/browser-ui": "^6.2.10",
```

这个包里有： UMD 版本、ESM 版本、CommonJS  版本

UMD 里暴露的全局对象： `window.jsPlumb`

### 1.3. 初始化

>类似 `jQuery(document).ready( ($) => {  } )`

ES6:

```js
import { ready } from "@jsplumb/browser-ui"

ready(() => {
  //...           

  // your jsPlumb related init code goes here
  
  //...  
});
```

browser: 

```js
jsPlumb.ready(() => {
  // ...           
  
  // your jsPlumb related init code goes here

  // ...  
});
```

### 1.4. 创建实例

ES6: 

```js
import { newInstance } from "@jsplumb/browser-ui"

const instance = newInstance({...});
```

browser: 

```js
const instance = jsPlumb.newInstance({...});
```

### 1.5. 容器

```js
const instance = jsPlumb.newInstance({
    container:someDOMElement
})
```

### 1.6. 注册元素

说明：

* 将 元素 纳入 jsPlumb 管理
* 使用 `addEndpoint` 、 `connect`，会自动将元素纳入管理
* 使用 `manage` 手动将元素纳入管理

示例：

```js
// 自动
instance.addEndpoint(someElement, { endpoint:'Dot' })

instance.connect({
    source: someElement,
    target: someOtherElement
})

// 手动
instance.manage(someElement)

instance.manage(someElement, "the id to use")
```

### 1.7. z-index

说明：

* 合理设置各个组件的 CSS 类的 z-index

每个组件都有自己的 CSS 类：

| Component	| Class |
| - | - |
| Endpoint |	jtk-endpoint |
| Connector |	jtk-connector |
| Overlay |	jtk-overlay |

当 hover 时，会添加 `tk-hover` 类

### 1.8. 性能

#### 1.8.1. 暂停渲染

说明：

* 加载数据之前，暂停渲染
* 加载数据之后，渲染全部

示例：

```js
// 暂停渲染
instance.setSuspendDrawing(true);

// ... load data

// 渲染全部
// 内部调用 repaintEverything
instance.setSuspendDrawing(false, true); 
```

### 1.9. 批量处理

说明：

* 在 batch 方法回调里做注册操作

示例：

```js
instance.batch(() => {
    
  // import here
  for (let i = 0, j = connections.length; i < j; i++) {
      instance.connect(connections[i]);
  }
  
})
```

## 基础概念

