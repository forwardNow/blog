# vue3 中 setup 语法

## 1. 说明

在 `<script setup>` 中定义的顶级变量都可以直接在模板中使用

## 2. props

```html
<script setup lang="ts">
  import { withDefaults, defineProps } from 'vue';

  export interface Props {
    name?: string,
    hobby?: string[],
  }

  const props = withDefaults(defineProps<Props>(), {
    name: 'light',
    hobby: ['打乒乓球', '打篮球'],
  });
</script>
```

## 3. model

```html
<script setup>
  const props = defineProps({
    name: String,
    age: Number
  })

  const emit = defineEmits(['update:name', 'update:age']);

  emit('update:name', '李四');
  emit('update:age', 19);
</script>
```

## 4. router

示例：

```html
<script setup>
import { useRouter, useRoute } from 'vue-router'
import { watch } from 'vue'

const router = useRouter()
const route = useRoute()

watch(
  () => route.params.id,
  async (newId) => {
    await fetchUser(newId)
  }
)
</script>
```

参考：

* [vue-router - 组合式API](https://router.vuejs.org/guide/advanced/composition-api.html)

## 5. 参考

* [vue 官方文档](https://cn.vuejs.org/guide/quick-start.html)