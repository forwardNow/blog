# Vue 核心

## 1. Vue 简介

### 1.1. 官网

[v2 -- https://v2.cn.vuejs.org/](https://v2.cn.vuejs.org/)

[v3 -- https://cn.vuejs.org/](https://cn.vuejs.org/)

### 1.2. 介绍与描述

一套用于构建用户界面的渐进式 JavaScript 框架

渐进式：

* Vue 可以自底向上逐层的应用
* 简单应用，只需要核心库
* 复杂应用，可以引入各种 Vue 插件

尤雨溪：

* 2013 年，发布 0.6.0
* 2014 年，发布 0.8.0
* 2015 年，发布 1.0.0
* 2016 年，发布 2.0.0
* 2020 年，发布 3.0.0

### 1.3. Vue 的特点

1. 遵循 MVVM 模式
2. 编码简洁, 体积小, 运行效率高, 适合移动/PC 端开发
3. 它本身只关注 UI, 也可以引入其它第三方库开发项目

### 1.4. 与其它 JS 框架的关联

1. 借鉴 Angular 的模板和数据绑定技术
2. 借鉴 React 的组件化和虚拟 DOM 技术

### 1.5. Vue 周边库

1. vue-cli: vue 脚手架
2. vue-resource
3. axios
4. vue-router: 路由
5. vuex: 状态管理
6. element-ui: 基于 vue 的 UI 组件库(PC 端)
7. ……

## 2. 初识 Vue

### 2.1. 安装

开发版本：

* `<script src="https://unpkg.com/vue@2.7.0/dist/vue.js"></script>`

生产版本：

* `<script src="https://unpkg.com/vue@2.7.0/dist/vue.min.js"></script>`

### 2.2. 示例

<<< @/docs/front-end/vue2/guide/codes/01.初识Vue.html

* 容器: #root
* 实例: vm
* 模板: #root 内的 HTML

总结：

1. 想让 Vue 工作，就必须创建一个 Vue 实例，且要传入一个配置对象；
2. `root` 容器里的代码依然符合 html 规范，只不过混入了一些特殊的 Vue 语法；
3. `root` 容器里的代码被称为【Vue 模板】；
4. Vue 实例和容器是一一对应的；
5. 真实开发中只有一个 Vue 实例，并且会配合着组件一起使用；
::: v-pre
6. `{{xxx}}` 中的 `xxx` 要写 js 表达式，且 `xxx` 可以自动读取到 `data` 中的所有属性；
:::
7. 一旦 `data` 中的数据发生改变，那么页面中用到该数据的地方也会自动更新；

注意区分：js表达式 和 js代码(语句)

1. 表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方：
  * a
  * a+b
  * demo(1)
  * x === y ? 'a' : 'b'

2. js代码(语句)
  * if(){}
  * for(){}

### 2.3. 扩展

指定容器的两种方法：

* `options.el: '#root'`， new Vue 时配置 `el` 属性
* `vm.$mount('#root')`，先创建 Vue 实例，再通过 `$mount()` 方法指定 el

```javascript
// 1.
new Vue({
  el: '#root',
});

// 2.
cont vm = new Vue({});
vm.$mount('#root');
```

data 的两种写法：

* 对象式
* 函数式

```javascript
new Vue({
  data: {
    name: '张三',
  }
});

new Vue({
  data() {
    // this === vm
    return {
      name: '张三',
    };
  }
});
```

## 3. 模板语法

### 3.1. 介绍

html 中包含了一些 JS 语法代码，语法分为两种，分别为：

1. 插值语法（双大括号表达式）
2. 指令（以 `v-` 开头）

### 3.2. 插值语法

功能: 用于解析标签体内容

::: v-pre
语法: `{{xxx}}` `，xxxx` 会作为 js 表达式解析
:::

### 3.3. 指令语法

功能: 解析标签属性、解析标签体内容、绑定事件

举例：`v-bind:href = 'xxxx'` ，`xxxx` 会作为 js 表达式被解析

说明：Vue 中有有很多的指令，此处只是用 `v-bind` 举个例子


### 3.4. 示例

<<< @/docs/front-end/vue2/guide/codes/02.模板语法.html

## 4. 数据绑定

### 4.1. 介绍

Vue中有2种数据绑定的方式：

1. 单向绑定(`v-bind`)
2. 双向绑定(`v-model`)

### 4.2. 单向数据绑定

语法：`v-bind:href ="xxx"` （简写为 `:href`）

特点：数据只能从 `data` 流向页面

### 4.3. 双向数据绑定

语法：`v-model:value="xxx"` （简写为 `v-model="xxx"`，因为 `v-model` 默认收集的就是 `value` 值)

特点：数据不仅能从 `data` 流向页面，还能从页面流向 `data`

注意：

* 双向绑定一般都应用在表单类元素上（如： `<input>` 、`<select>` 等）
* 自定义组件，可以指定 `model` 属性

### 4.4. 示例

<<< @/docs/front-end/vue2/guide/codes/03.数据绑定.html

## 5. MVVM 模型

![mvvm](./images/05-1.mvvm.png)

* M：模型(Model) ：对应 data 中的数据
* V：视图(View) ：模板
* VM：视图模型(ViewModel) ： Vue 实例对象

扩展：

1. `data` 中所有的属性，最后都出现在了 `vm` 身上。
2. `vm` 身上所有的属性 及 Vue原型上所有属性，在 Vue 模板中都可以直接使用。