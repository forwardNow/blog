<html>
<head>
  <title>16.数据监视-05-数组元素更新问题</title>
</head>
<body>
  <div id="root">
    <h2>人员列表</h2>
    <button @click="updateMeiSuccess">更新马冬梅的信息（生效）</button>
    <button @click="updateMeiFail">更新马冬梅的信息（无效）</button>
    <ul>
      <li v-for="(p,index) of persons" :key="p.id">
        {{p.name}}-{{p.age}}-{{p.sex}}
      </li>
    </ul>
  </div>
  
<script src="https://unpkg.com/vue@2.7.0/dist/vue.js"></script>
<script>
  Vue.config.productionTip = false; // 关闭生产提示

  const vm = new Vue({
    el:'#root',
    data:{
      persons:[
        {id:'001',name:'马冬梅',age:30,sex:'女'},
        {id:'002',name:'周冬雨',age:31,sex:'女'},
        {id:'003',name:'周杰伦',age:18,sex:'男'},
        {id:'004',name:'温兆伦',age:19,sex:'男'}
      ]
    },
    methods: {
      updateMeiSuccess() {
        this.persons[0].name = '马老师';
        this.persons[0].age = 50;
        this.persons[0].sex = '男';
      },
      updateMeiFail() {
        this.persons[0] = {id:'001',name:'马老师',age:50,sex:'男'};
      },
    }
  });
</script>
</body>
</html>