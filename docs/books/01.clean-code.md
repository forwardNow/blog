# clean code -- 代码整洁之道

## 1. Meaningful Names (有意义的命名)

### 1.1. Use Intention-Revealing Names (使用透露意图的名称)

The name of a variable, function, or class, should answer all the big questions:

* why it exists
* what it does
* how it is used

bad：

```java
int d; // elapsed time in days
```

If a name requires a comment, then the name does not reveal its intent.

good:

```java
int elapsedTimeInDays;
int daysSinceCreation;
int daysSinceModification;
int fileAgeInDays;
```

What is the purpose of this code?

```java
public List<int[]> getThem() {
  List<int[]> list1 = new ArrayList<int[]>();
  for (int[] x : theList)
    if (x[0] == 4) 
      list1.add(x);
  return list1;
}
```

The code implicitly requires that we know the answers to questions such as:

1. What kinds of things are in `theList`?
2. What is the significance of the zeroth subscript of an item in `theList`?
3. What is the significance of the value `4`?
4. How would I use the list being returned?

Say that we’re working in a mine sweeper game

```java
public List<int[]> getFlaggedCells() {
  List<int[]> flaggedCells = new ArrayList<int[]>();

  for (int[] cell : gameBoard)
    if (cell[STATUS_VALUE] == FLAGGED)
      flaggedCells.add(cell);

  return flaggedCells;
}
```

We can go further and write a simple class for cells instead of using an array of `int`s.

```java
 public List<Cell> getFlaggedCells() {
  List<Cell> flaggedCells = new ArrayList<Cell>();

  for (Cell cell : gameBoard)
    if (cell.isFlagged())
      flaggedCells.add(cell);

  return flaggedCells;
 }
```

### 1.2. Avoid Disinformation (避免误导)

Programmers must avoid leaving false clues that obscure the meaning of code.

不要使用专有名称

* 如 Unix 平台的专有名词： `hp`, `aix`, `sco` 等

不要使用特殊含义的名称

* 如 `List`，列表的意思
* `accountList` --> `accountGroup` / `bunchOfAccounts` / `accounts`

不要使用相似度很小的名称

* `XYZControllerForEfficientHandlingOfStrings`
* `XYZControllerForEfficientStorageOfStrings`
* 极端的例子
  ```java
  int a = l;
  if ( O == l )
    a = O1;
  else
    l = 01;
  ```

### Make Meaningful Distinctions (有意义的区分)

you can’t use the same name to refer to two different things in the same scope,
you might be tempted to change one name in an arbitrary way:

* misspelling
* number series
* noise words

misspelling:

* `class`: `klass`

number series:

* `a1`, `a2`, .. `aN`

  ```java
  public static void copyChars(char a1[], char a2[]) {
    for (int i = 0; i < a1.length; i++) {
      a2[i] = a1[i]; 
    }
  }
  ```

* This function reads much better when `source` and `destination` are used for the argument names

noise words:

* `Product`: `ProductInfo` , `ProductData`. `Info` and `Data` are indistinct noise words like `a`, `an`, and `the`.
* The word `variable` should never appear in a variable name.
* The word `table` should never appear in a table name.
* How is `NameString` better than `Name`?  Would a `Name` ever be a floating point number?
* Imagine finding one class named `Customer` and another named `CustomerObject`.