# 地图

获取数据的方式

| 地图数据    | 说明          |
|---------|-------------|
| 百度地图API | 需要申请百度地图 AK |
| 矢量地图    | 需要准备矢量地图数据  |

## 简单的地图

1.准备数据

```javascript
const chinaMap = await fetch('./assets/map/china.json').then((res) => res.json());
```

2.注册地图

```javascript
echarts.registerMap('chinaMap', chinaMap);
```

3.设置地图

```javascript
option = {
  geo: {
    map: 'chinaMap',
  }
}
```

示例：

<div id="box_29-map-basic" style="width: 600px; height: 600px;border: solid 1px #ddd;"></div>
<script type="module">
  const chinaMap = await fetch('/echarts/china.json')
    .then((res) => res.json());
  echarts.registerMap('chinaMap', chinaMap);
  echarts.init(document.querySelector('#box_29-map-basic')).setOption({
    geo: {
      map: 'chinaMap',
    }
  });
</script>

<<< @/codes/charts/29-map-basic.html

## 常用配置

说明：

* 缩放和拖动， roam
* 文本标签显示， label
* 初始缩放比例
* 当前视角的中心点

配置：

```javascript
option = {
  geo: {
    map: 'chinaMap',
    
    // 是否开启鼠标缩放和平移漫游。默认不开启。
    // 如果只想要开启缩放或者平移，可以设置成 'scale' 或者 'move'。设置成 true 为都开启
    roam: true,
    
    // 图形上的文本标签，可用于说明图形的一些数据信息，比如值，名称等。
    label: { show: true },
    
    // 当前视角的缩放比例。
    zoom: 1.2,
    
    // 当前视角的中心点，默认使用原始坐标（经纬度）。
    center: [87, 43],
  }
}
```

示例：

<div id="box_30-map-common-config" style="width: 600px; height: 600px; border: solid 1px #ddd;"></div>
<script type="module">
  const chinaMap = await fetch('/echarts/china.json')
    .then((res) => res.json());
  echarts.registerMap('chinaMap', chinaMap);
  echarts.init(document.querySelector('#box_30-map-common-config')).setOption({
    geo: {
      map: 'chinaMap',
      roam: true,
      label: { show: true },
      zoom: 1.2,
      center: [87, 43],
    }
  });
</script>

<<< @/codes/charts/30-map-common-config.html
