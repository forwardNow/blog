# 通用配置

任何图表都能使用的配置

* 标题： title
* 提示： tooltip
* 工具按钮： toolbox
* 图例： legend

## title

* 样式
  * [`title.textStyle`](https://echarts.apache.org/zh/option.html#title.textStyle)
* 边框
  * [`title.borderWidth`](https://echarts.apache.org/zh/option.html#title.borderWidth)
  * [`title.borderColor`](https://echarts.apache.org/zh/option.html#title.borderColor)
  * [`title.borderRadius`](https://echarts.apache.org/zh/option.html#title.borderRadius)
* 位置
  * [`title.top`](https://echarts.apache.org/zh/option.html#title.top)
  * [`title.right`](https://echarts.apache.org/zh/option.html#title.right)
  * [`title.bottom`](https://echarts.apache.org/zh/option.html#title.bottom)
  * [`title.left`](https://echarts.apache.org/zh/option.html#title.left)

<div id="box_07-common-config-title" style="width: 600px; height: 400px;"></div>
<script>
  echarts.init(document.querySelector('#box_07-common-config-title')).setOption({
    dataset: {
      dimensions: ['name', 'chinese', 'math'],
      source: [
        { name: '张三', chinese: 60, math: 90 },
        { name: '李四', chinese: 70, math: 80 },
        { name: '王五', chinese: 80, math: 70 },
        { name: '赵六', chinese: 90, math: 60 },
      ],
    },
    title: {
      text: '成绩统计表',
      textStyle: {
        color: 'blue',
      },
      borderWidth: 4,
      borderColor: 'blue',
      borderRadius: 4,
      top: 10,
      left: 20
    },
    xAxis: {
      type: 'category',
    },
    yAxis: {
      type: 'value',
    },
    series: [
      {
        name: '语文',
        type: 'bar',
        encode: {
          x: 'name',
          y: 'chinese',
        }
      },
    ]
  });
</script>

<<< @/codes/charts/07-common-config-title.html

## tooltip

提示框组件，用于配置鼠标滑过或点击图表时的显示框

* [`tooltip.trigger`](https://echarts.apache.org/zh/option.html#tooltip.trigger) : 触发类型
  * `item`: 数据项图形 内触发
  * `axis`: 类目轴 内触发
* [`tooltip.triggerOn`](https://echarts.apache.org/zh/option.html#tooltip.triggerOn) : 触发时机
  * `mousemove`
  * `click`
* [`tooltip.formatter`](https://echarts.apache.org/zh/option.html#tooltip.formatter) : 内容格式
  * 字符串模板：对于 dataset 是存在问题的
  * 回调函数：`const value = params.value[params.dimensionNames[params.encode.y[0]]];`

<div id="box_08-common-config-tooltip" style="width: 600px; height: 400px;"></div>
<script>
  echarts.init(document.querySelector('#box_08-common-config-tooltip')).setOption({
    dataset: {
      dimensions: ['name', 'chinese', 'math'],
      source: [
        { name: '张三', chinese: 60, math: 90 },
        { name: '李四', chinese: 70, math: 80 },
        { name: '王五', chinese: 80, math: 70 },
        { name: '赵六', chinese: 90, math: 60 },
      ],
    },
    tooltip: {
      trigger: 'item', // 'item' | 'axis'
      triggerOn: 'click', // 'mousemove' | 'click'
      formatter(params) {
        const {
          seriesName,
          name,
        } = params;
        const value = params.value[params.dimensionNames[params.encode.y[0]]];
        console.log(params);
        return `${name} 的 ${seriesName} 成绩是 ${value}`;
      }
    },
    xAxis: {
      type: 'category',
    },
    yAxis: {
      type: 'value',
    },
    series: [
      {
        name: '语文',
        type: 'bar',
        encode: {
          x: 'name',
          y: 'chinese',
          tooltip: 'chinese',
        }
      },
    ]
});
</script>

<<< @/codes/charts/08-common-config-tooltip.html

