# 通用配置

任何图表都能使用的配置

* 标题： title
* 提示： tooltip
* 工具按钮： toolbox
* 图例： legend

## 1. title

### 1.1. 说明

标题组件，包含主标题和副标题。

### 1.2. 配置

基本配置

| -        | option               | 说明                                                           |
|----------|----------------------|--------------------------------------------------------------|
| style    | `title.textStyle`    | https://echarts.apache.org/zh/option.html#title.textStyle    |
| border   | `title.borderWidth`  | https://echarts.apache.org/zh/option.html#title.borderWidth  |
|          | `title.borderColor`  | https://echarts.apache.org/zh/option.html#title.borderColor  |
|          | `title.borderRadius` | https://echarts.apache.org/zh/option.html#title.borderRadius |
| position | `title.top`          | https://echarts.apache.org/zh/option.html#title.top          |
|          | `title.right`        | https://echarts.apache.org/zh/option.html#title.right        |
|          | `title.bottom`       | https://echarts.apache.org/zh/option.html#title.bottom       |
|          | `title.left`         | https://echarts.apache.org/zh/option.html#title.left         |


### 1.3. 示例

<div id="box_07-common-config-title" style="width: 600px; height: 400px;"></div>
<script>
  echarts.init(document.querySelector('#box_07-common-config-title')).setOption({
    dataset: {
      dimensions: ['name', 'chinese', 'math'],
      source: [
        { name: '张三', chinese: 60, math: 90 },
        { name: '李四', chinese: 70, math: 80 },
        { name: '王五', chinese: 80, math: 70 },
        { name: '赵六', chinese: 90, math: 60 },
      ],
    },
    title: {
      text: '成绩统计表',
      textStyle: {
        color: 'blue',
      },
      borderWidth: 4,
      borderColor: 'blue',
      borderRadius: 4,
      top: 10,
      left: 20
    },
    xAxis: {
      type: 'category',
    },
    yAxis: {
      type: 'value',
    },
    series: [
      {
        name: '语文',
        type: 'bar',
        encode: {
          x: 'name',
          y: 'chinese',
        }
      },
    ]
  });
</script>

<<< @/codes/charts/07-common-config-title.html

## 2. tooltip

### 2.1. 说明

提示框组件，用于配置鼠标滑过或点击图表时的显示框

### 2.2. 配置

| -    | option              | 说明                                     |
|------|---------------------|----------------------------------------|
| 触发类型 | `tooltip.trigger`   | `item`: 数据项图形 内触发 <br> `axis`: 类目轴 内触发 |
| 触发时机 | `tooltip.triggerOn` | `mousemove` `click`                    |
| 内容格式 | `tooltip.formatter` | 字符串模板：对于 dataset 是存在问题的  <br> 回调函数     |

### 2.3. 示例

<div id="box_08-common-config-tooltip" style="width: 600px; height: 400px;"></div>
<script>
  echarts.init(document.querySelector('#box_08-common-config-tooltip')).setOption({
    dataset: {
      dimensions: ['name', 'chinese', 'math'],
      source: [
        { name: '张三', chinese: 60, math: 90 },
        { name: '李四', chinese: 70, math: 80 },
        { name: '王五', chinese: 80, math: 70 },
        { name: '赵六', chinese: 90, math: 60 },
      ],
    },
    tooltip: {
      trigger: 'item',
      triggerOn: 'click',
      formatter(params) {
        const {
          seriesName,
          name,
        } = params;
        const value = params.value[params.dimensionNames[params.encode.y[0]]];
        console.log(params);
        return `${name} 的 ${seriesName} 成绩是 ${value}`;
      }
    },
    xAxis: {
      type: 'category',
    },
    yAxis: {
      type: 'value',
    },
    series: [
      {
        name: '语文',
        type: 'bar',
        encode: {
          x: 'name',
          y: 'chinese',
          tooltip: 'chinese',
        }
      },
    ]
});
</script>

<<< @/codes/charts/08-common-config-tooltip.html

## 3. toolbox

### 3.1. 说明

ECharts 提供的工具栏

### 3.2. 配置

| -      | option                        | 说明    |
|--------|-------------------------------|-------|
| 导出图片   | `toolbox.feature.saveAsImage` |       |
| 数据视图   | `toolbox.feature.dataView`    | 可编辑数据 |
| 动态类型切换 | `toolbox.feature.magicType`   |       |
| 数据区域缩放 | `toolbox.feature.dataZoom`    |       |
| 重置     | `toolbox.feature.restore`     |       |


### 3.3. 示例

<div id="box_09-common-config-toolbox" style="width: 600px; height: 400px;"></div>
<script>
  echarts.init(document.querySelector('#box_09-common-config-toolbox')).setOption({
    dataset: {
      dimensions: ['name', 'chinese', 'math'],
      source: [
        { name: '张三', chinese: 60, math: 90 },
        { name: '李四', chinese: 70, math: 80 },
        { name: '王五', chinese: 80, math: 70 },
        { name: '赵六', chinese: 90, math: 60 },
      ],
    },
    toolbox: {
      feature: {
        saveAsImage: {},
        dataView: {},
        magicType: {
          type: ['bar', 'line'],
        },
        dataZoom: {},
        restore: {},
      }
    },
    xAxis: {
      type: 'category',
    },
    yAxis: {
      type: 'value',
    },
    series: [
      {
        name: '语文',
        type: 'bar',
        encode: {
          x: 'name',
          y: 'chinese',
          tooltip: 'chinese',
        }
      },
    ]
  });
</script>

<<< @/codes/charts/09-common-config-toolbox.html

## 4. legend

### 4.1. 说明

图例组件：

* 标记系列：不同的系列有不同的颜色
* 筛选系列

### 4.2. 配置

```javascript
{
  legend: {
    data: ['${series[0].name}', '${series[1].name}', ,,,]
  }
}
```

### 4.3. 示例

<div id="box_10-common-config-legend" style="width: 600px; height: 400px;"></div>
<script>
  echarts.init(document.querySelector('#box_10-common-config-legend')).setOption({
    dataset: {
      dimensions: ['name', 'chinese', 'math'],
      source: [
        { name: '张三', chinese: 60, math: 90 },
        { name: '李四', chinese: 70, math: 80 },
        { name: '王五', chinese: 80, math: 70 },
        { name: '赵六', chinese: 90, math: 60 },
      ],
    },
    legend: {
      data: [ '语文', '数学' ]
    },
    xAxis: {
      type: 'category',
    },
    yAxis: {
      type: 'value',
    },
    series: [
      {
        name: '语文',
        type: 'bar',
        encode: {
          x: 'name',
          y: 'chinese',
        }
      },
      {
        name: '数学',
        type: 'bar',
        encode: {
          x: 'name',
          y: 'math',
        }
      },
    ]
  });
</script>

<<< @/codes/charts/10-common-config-legend.html

## 5. 小结

通用配置指的是任何一种类型的图表都可以使用的配置：

* 标题： `title`
* 提示： `tooltip`
* 工具按钮： `toolbox`
* 图例： `legend`
