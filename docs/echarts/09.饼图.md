# 饼图

## 简单的饼图

实现：

```javascript
option = {
  series: [
    {
      type: 'pie',
      encode: { value: 'money' }
    },
  ]
}
```

示例：

<div id="box_24-pie-basic" style="width: 600px; height: 400px;"></div>
<script>
  echarts.init(document.querySelector('#box_24-pie-basic')).setOption({
    dataset: {
      dimensions: ['eCommerce', 'money'],
      source: [
        { eCommerce: '淘宝', money: 11231 },
        { eCommerce: '京东', money: 22673 },
        { eCommerce: '唯品会', money: 6123 },
        { eCommerce: '一号店', money: 8989 },
        { eCommerce: '聚美优品', money: 6788 },
      ],
    },
    series: [
      {
        name: '各电商平台消费统计',
        type: 'pie',
        encode: { value: 'money' }
      },
    ]
  });
</script>

<<< @/codes/charts/24-pie-basic.html

## 常见效果

### label

说明：

* 设置每个扇形显示的文本

配置：

```javascript
option = {
  label: {
    // {a}：系列名。（不可用）
    // {b}：数据名。（不可用）
    // {c}：数据值。（不可用）
    // {d}：百分比。
    // {@xxx}：数据中名为 'xxx' 的维度的值，如 {@product} 表示名为 'product' 的维度的值。
    // {@[n]}：数据中维度 n 的值，如 {@[3]} 表示维度 3 的值，从 0 开始计数。
    formatter: '{@eCommerce} ￥{@money} \n{d}%',
    
    formatter(params) {
      const { percent, data: { eCommerce, money } } = params;
      return `${eCommerce} ${percent}%`;
    },
    color: 'auto',
  }
}
```

示例：

<div id="box_25-pie-label" style="width: 600px; height: 400px;"></div>
<script>
  echarts.init(document.querySelector('#box_25-pie-label')).setOption({
    dataset: {
      dimensions: ['eCommerce', 'money'],
      source: [
        { eCommerce: '淘宝', money: 11231 },
        { eCommerce: '京东', money: 22673 },
        { eCommerce: '唯品会', money: 6123 },
        { eCommerce: '一号店', money: 8989 },
        { eCommerce: '聚美优品', money: 6788 },
      ],
    },
    series: [
      {
        name: '各电商平台消费统计',
        type: 'pie',
        encode: { value: 'money' },
        label: {
          formatter(params) {
            const { percent, data: { eCommerce, money } } = params;
            return `${eCommerce} ${percent}%`;
          },
          color: 'auto',
        }
      },
    ]
  });
</script>

<<< @/codes/charts/25-pie-label.html

