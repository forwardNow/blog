<html>
<head>
  <title>13.列表渲染-02-key的原理</title>
</head>
<body>
  <div id="root">
    <button @click="add">添加一个老刘</button>
    <h2>人员列表（使用 index 作为 key）</h2>
    <ul>
      <li v-for="(p,index) of persons" :key="index">
        {{p.name}}-{{p.age}}
        <input type="text">
      </li>
    </ul>

    <h2>人员列表（使用 id 作为 key）</h2>
    <ul>
      <li v-for="(p,index) of persons" :key="p.id">
        {{p.name}}-{{p.age}}
        <input type="text">
      </li>
    </ul>
  </div>
  
<script src="https://unpkg.com/vue@2.7.0/dist/vue.js"></script>
<script>
  Vue.config.productionTip = false; // 关闭生产提示

  const vm = new Vue({
    el: '#root',

    mounted() {
      Array.from(document.querySelectorAll('input')).forEach((elt) => {
        elt.value = elt.parentElement.innerText;
      });
    },

    data:{
      persons:[
        {id:'001',name:'张三',age:18},
        {id:'002',name:'李四',age:19},
        {id:'003',name:'王五',age:20}
      ]
    },
    methods: {
      add(){
        const p = {id:'004',name:'老刘',age:40}
        this.persons.unshift(p)
      }
    },
  });
</script>
</body>
</html>